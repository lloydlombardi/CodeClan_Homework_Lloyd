library(tidyverse)
library(janitor)
library(infer)
ames <- read_csv("data/ames.csv") %>%
clean_names()
glimpse(ames)
ames %>%
ggplot(aes(x = lot_area)) +
geom_histogram(col = "white")
ames %>%
ggplot(aes(x = lot_area)) +
geom_histogram(col = "white")
bootstrap_sample <- ames %>%
rep_sample_n(size = nrow(ames),
reps = 5000,
replace = TRUE) %>%
summarise(mean_lot_area = mean(lot_area)
)
library(tidyverse)
library(janitor)
library(infer)
ames <- read_csv("data/ames.csv") %>%
clean_names()
glimpse(ames)
ames %>%
ggplot(aes(x = lot_area)) +
geom_histogram(col = "white")
bootstrap_sample <- ames %>%
rep_sample_n(size = nrow(ames),
reps = 5000,
replace = TRUE) %>%
summarise(mean_lot_area = mean(lot_area)
)
bootstrap_sample
library(tidyverse)
library(janitor)
library(infer)
ames <- read_csv("data/ames.csv") %>%
clean_names()
glimpse(ames)
ames %>%
ggplot(aes(x = lot_area)) +
geom_histogram(col = "white")
bootstrap_sample <- ames %>%
rep_sample_n(size = nrow(ames),
reps = 5000,
replace = TRUE) %>%
summarise(mean_lot_area = mean(lot_area)
)
bootstrap_sample
sample_size <- nrow(ames)
sample_size
sample_size <- nrow(ames)
bootstrap_sample <- ames %>%
rep_sample_n(size = sample_size,
reps = 5000,
replace = TRUE) %>%
summarise(mean_lot_area = mean(lot_area)
)
sample_size <- nrow(ames)
bootstrap_sample <- ames %>%
rep_sample_n(size = 2930,
reps = 5000,
replace = TRUE) %>%
summarise(mean_lot_area = mean(lot_area)
)
bootstrap_sample
bootstrap_sample %>%
ggplot(aes(x = mean_lot_area)) +
geom_histogram(col = "white")
ci_95 <- bootstrap_sample %>%
summarise(
mean = mean(mean_lot_area),
lower_bound = quantile(mean_lot_area, probs = 0.05),
upper_bound = quantile(mean_lot_area, probs = 0.95)
)
ci_95 <- bootstrap_sample %>%
summarise(
mean = mean(mean_lot_area),
lower_bound = quantile(mean_lot_area, probs = 0.05),
upper_bound = quantile(mean_lot_area, probs = 0.95)
)
ci_95
infer_resample <- bootstrap_sample %>%
specify(response = lot_area) %>%
generate(reps = 5000, type = "bootstrap") %>%
calculate(stat = "mean")
bootstrap_sample
infer_resample <- ames %>%
specify(response = lot_area) %>%
generate(reps = 5000, type = "bootstrap") %>%
calculate(stat = "mean")
infer_resample
infer_ci_95 <- infer_resample %>%
get_confidence_interval(level = 0.95, type = "percentile")
infer_ci_95
bootstrap_sample <- ames %>%
rep_sample_n(size = 2930,
reps = 5000,
replace = TRUE) %>%
summarise(mean_lot_area = mean(lot_area)
)
bootstrap_sample
bootstrap_sample %>%
ggplot(aes(x = mean_lot_area)) +
geom_histogram(col = "white")
ci_95 <- bootstrap_sample %>%
summarise(
mean = mean(mean_lot_area),
lower_bound = quantile(mean_lot_area, probs = 0.05),
upper_bound = quantile(mean_lot_area, probs = 0.95)
)
ci_95
infer_resample <- ames %>%
specify(response = lot_area) %>%
generate(reps = 5000, type = "bootstrap") %>%
calculate(stat = "mean")
infer_resample
infer_ci_95 <- infer_resample %>%
get_confidence_interval(level = 0.95, type = "percentile")
infer_ci_95
infer_resample %>%
visualise(bins = 30) +
shade_confidence_interval(endpoints = infer_ci_95)
infer_resample
infer_ci_99 <- infer_resample %>%
get_confidence_interval(level = 0.995, type = "percentile")
infer_ci_99
infer_resample %>%
visualise(bins = 30) +
shade_confidence_interval(endpoints = infer_ci_99)
infer_resample %>%
visualise(bins = 30) +
shade_confidence_interval(endpoints = infer_ci_95)
infer_resample %>%
summarise(point_estimate = mean(stat))
library(tidyverse)
library(janitor)
library(infer)
ames <- read_csv("data/ames.csv") %>%
clean_names()
glimpse(ames)
ames %>%
ggplot(aes(x = lot_area)) +
geom_histogram(col = "white")
bootstrap_sample <- ames %>%
rep_sample_n(size = 2930,
reps = 5000,
replace = TRUE) %>%
summarise(mean_lot_area = mean(lot_area)
)
bootstrap_sample
bootstrap_sample %>%
ggplot(aes(x = mean_lot_area)) +
geom_histogram(col = "white")
ci_95 <- bootstrap_sample %>%
summarise(
mean = mean(mean_lot_area),
lower_bound = quantile(mean_lot_area, probs = 0.05),
upper_bound = quantile(mean_lot_area, probs = 0.95)
)
ci_95
infer_resample <- ames %>%
specify(response = lot_area) %>%
generate(reps = 5000, type = "bootstrap") %>%
calculate(stat = "mean")
infer_resample
infer_ci_95 <- infer_resample %>%
get_confidence_interval(level = 0.95, type = "percentile")
infer_ci_95
infer_resample %>%
visualise(bins = 30) +
shade_confidence_interval(endpoints = infer_ci_95)
infer_ci_99 <- infer_resample %>%
get_confidence_interval(level = 0.995, type = "percentile")
infer_ci_99
infer_resample %>%
visualise(bins = 30) +
shade_confidence_interval(endpoints = infer_ci_99)
infer_resample %>%
summarise(point_estimate = mean(stat))
ames
ames %>%
filter(year_built < 1920)
houses_old <- ames %>%
filter(year_built < 1920) %>%
summarise(prop = n() / nrow(ames))
houses_old <- ames %>%
filter(year_built < 1920) %>%
summarise(prop = n() / nrow(ames))
houses_old
ames
houses_old
ames %>%
filter(year_built < 1920)
houses_old <- ames %>%
filter(year_built < 1920) %>%
summarise(prop = n() / nrow(ames))
houses_old
old_house_resample <- ames %>%
specify(response = year_built) %>%
generate(reps = 200, type = "bootstrap") %>%
calculate(stat = "diff in props", order = c("> 1920", "<1920"))
ames_before_1920 <- ames %>%
mutate(before_1920 = as.numeric(year_built < 1920))
ames_before_1920
bootstrap_distn_200 <- ames_before_1920 %>%
specify(response = before_1920) %>%
generate(reps = 200, type = "bootstrap") %>%
calculate(stat = "mean")
bootstrap_distn_200
bootstrap_distn_200 %>%
summarise(point_estimate = mean(stat))
before_1920_ci95_200 <- bootstrap_distn_200 %>%
get_ci(level = 0.95, type = "percentile")
before_1920_ci95_200
bootstrap_distn_200 %>%
visualise(bins = 30) +
shade_ci(endpoints = before_1920_ci95_200)
bootstrap_distn_200 <- ames_before_1920 %>%
specify(response = before_1920) %>%
generate(reps = 10000, type = "bootstrap") %>%
calculate(stat = "mean")
bootstrap_distn_10000 <- ames_before_1920 %>%
specify(response = before_1920) %>%
generate(reps = 10000, type = "bootstrap") %>%
calculate(stat = "mean")
bootstrap_distn_200 <- ames_before_1920 %>%
specify(response = before_1920) %>%
generate(reps = 200, type = "bootstrap") %>%
calculate(stat = "mean")
bootstrap_distn_10000 %>%
summarise(point_estimate = mean(stat))
before_1920_ci95_10000 <- bootstrap_distn_10000 %>%
get_ci(level = 0.95, type = "percentile")
before_1920_ci95_10000
bootstrap_distn_10000 %>%
visualise(bins = 30) +
shade_ci(endpoints = before_1920_ci95_10000)
