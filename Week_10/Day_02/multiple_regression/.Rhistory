library(tidyverse)
houses <- read_csv("data/housing_prices.csv")
houses
library(GGally)
houses %>%
select(total_rooms, total_bedrooms) %>%
ggpairs()
houses <- houses %>%
select(-total_bedrooms)
houses
houses %>%
ggpairs()
houses %>%
ggplot(aes(x = median_income,
y = median_house_value))+
geom_point()+
geom_smooth(method = "lm", se = FALSE)
houses
houses %>%
distinct(ocean_proximity)
houses %>%
ggplot(aes(x = ocean_proximity,
y = median_house_value))+
geom_boxplot()
houses %>%
ggplot(aes(x = median_income,
y = median_house_value))+
geom_point()+
geom_smooth(method = "lm", se = FALSE)
houses %>%
distinct(ocean_proximity)
library(tidyverse)
library(GGally)
library(janitor)
library(mosaic)
alias(lm(median_house_value ~ ., data = houses))
library(ggfortify)
model_value_income <- lm(median_house_value ~ median_income,
data = houses)
autoplot(model_value_income)
summary(model_value_income)
houses %>%
summarise(cor = cor(ocean_proximity, median_house_value))
model_value_income_ocean <- lm(median_house_value ~ median_income + ocean_proximity,
data = houses)
autoplot(model_value_income_ocean)
summary(model_value_income_ocean)
houses %>%
summary()
library(tidyverse)
library(GGally)
library(janitor)
library(mosaic)
library(ggfortify)
houses <- read_csv("data/housing_prices.csv")
houses %>%
summary()
houses %>%
select(total_rooms, total_bedrooms) %>%
ggpairs()
house_features <- houses %>%
mutate(rooms_per_house = total_rooms / households,
bedrooms_per_house = total_bedrooms / households,
rooms_per_capita = total_rooms / population,
bedrooms_per_capita = total_bedrooms / population,
houses_per_capita = households / population,
prop_bedrooms = total_bedrooms / total_rooms)
house_features
library(skimr)
house_features <- houses %>%
mutate(rooms_per_house = total_rooms / households,
bedrooms_per_house = total_bedrooms / households,
rooms_per_capita = total_rooms / population,
bedrooms_per_capita = total_bedrooms / population,
houses_per_capita = households / population,
prop_bedrooms = total_bedrooms / total_rooms)
house_features %>%
select(rooms_per_house:prop_bedrooms) %>%
skim()
house_features <- houses %>%
mutate(rooms_per_house = total_rooms / households,
bedrooms_per_house = total_bedrooms / households,
rooms_per_capita = total_rooms / population,
bedrooms_per_capita = total_bedrooms / population,
houses_per_capita = households / population,
prop_bedrooms = total_bedrooms / total_rooms)
house_features %>%
select(rooms_per_house:prop_bedrooms) %>%
skim(house_features)
house_features %>%
select(rooms_per_house:prop_bedrooms)
house_features <- houses %>%
mutate(rooms_per_house = total_rooms / households,
bedrooms_per_house = total_bedrooms / households,
rooms_per_capita = total_rooms / population,
bedrooms_per_capita = total_bedrooms / population,
houses_per_capita = households / population,
prop_bedrooms = total_bedrooms / total_rooms)
house_features %>%
select(rooms_per_house:prop_bedrooms) %>%
skim()
house_features %>%
select(-c(longitude, latitude))
house_features %>%
select(-c(longitude, latitude)) %>%
ggpairs()
house_features %>%
select(-c(longitude, latitude, rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>%
ggpairs()
ggsave("ggpairs1.png")
house_features %>%
select(-c(longitude, latitude, rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>% # use this to put median_house_value first in plots
ggpairs()
house_features %>%
select(-c(longitude, latitude, rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>% # use this to put median_house_value first in plots
ggpairs()
ggsave("ggpairs1.png",
width = 12,
height = 12)
house_features %>%
select(-c(longitude, latitude, rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>% # use this to put median_house_value first in plots
ggpairs(progress = FALSE)
ggsave("ggpairs1.png",
width = 15,
height = 12)
house_features %>%
select(-c(longitude, latitude, rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>% # use this to put median_house_value first in plots
ggpairs(progress = FALSE)
ggsave("ggpairs1.png",
width = 20,
height = 12)
house_features %>%
select(median_house_value, rooms_per_house:prop_bedrooms) %>%
select(median_house_value, everything()) %>% # use this to put median_house_value first in plots
ggpairs(progress = FALSE)
ggsave("ggpairs2.png",
width = 20,
height = 12)
house_features <- house_features %>%
filter(!is.na(total_bedrooms))
house_features %>%
select(median_house_value, rooms_per_house:prop_bedrooms) %>%
select(median_house_value, everything()) %>% # use this to put median_house_value first in plots
ggpairs(progress = FALSE)
ggsave("ggpairs2.png",
width = 20,
height = 12)
house_features %>%
select(-c(longitude, latitude, rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>% # use this to put median_house_value first in plots
ggpairs(progress = FALSE)
ggsave("ggpairs1.png",
width = 20,
height = 12)
house_features %>%
count(ocean_proximity)
house_features <- house_features %>%
mutate(house_proximity = if_else(ocean_proximity == "INLAND"))
house_features <- house_features %>%
mutate(house_proximity = if_else(ocean_proximity == "INLAND",
"Inland",
"Near Water"))
house_features
house_features <- house_features %>%
mutate(house_proximity = if_else(ocean_proximity == "INLAND",
"Inland",
"Near Water"))
house_features %>%
count(house_proximity)
house_features %>%
select(median_house_value, house_proximity, rooms_per_house:prop_bedrooms) %>%
ggpairs(aes(fill = house_proximity),
progress = FALSE)
ggsave("ggpairs3.png",
width = 20,
height = 12)
house_features %>%
select(median_house_value, house_proximity, rooms_per_house:prop_bedrooms) %>%
ggpairs(aes(fill = house_proximity),
alpha = 0.4,
progress = FALSE)
ggsave("ggpairs3.png",
width = 20,
height = 12)
houses %>%
count(ocean_proximity)
house_features
plotModel(model_value_income_ocean)
log_model <- lm(log(median_house_values) ~ median_income + ocean_proximity,
data = house_features)
house_features
log_model <- lm(log(median_house_value) ~ median_income + ocean_proximity,
data = house_features)
houses %>%
add_residuals(log_model)
library(modelr)
library(modelr)
log_model <- lm(log(median_house_value) ~ median_income + ocean_proximity,
data = house_features)
houses %>%
add_residuals(log_model) %>%
ggplot() %>%
geom_histogram(aes(x = log_model))
library(modelr)
log_model <- lm(log(median_house_value) ~ median_income + ocean_proximity,
data = house_features)
houses %>%
add_residuals(log_model) %>%
ggplot() +
geom_histogram(aes(x = log_model))
log_model
library(modelr)
log_model <- lm(log(median_house_value) ~ median_income + ocean_proximity,
data = house_features)
houses %>%
add_residuals(log_model) %>%
ggplot() +
geom_histogram(aes(x = median_house_value))
library(modelr)
log_model <- lm(log(median_house_value) ~ median_income + ocean_proximity,
data = house_features)
houses %>%
add_residuals(log_model) %>%
ggplot() +
geom_histogram(aes(x = log(median_house_value)))
